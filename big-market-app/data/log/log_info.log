24-04-16.01:58:56.350 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24577 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.01:58:56.352 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.01:58:58.031 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.01:58:58.036 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.01:58:58.095 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-04-16.01:59:00.346 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.01:59:00.398 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.01:59:00.771 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.01:59:00.804 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.01:59:03.876 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.01:59:04.020 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.243 seconds (JVM running for 9.462)
24-04-16.01:59:04.656 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.01:59:05.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.01:59:05.140 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.01:59:05.890 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.01:59:05.981 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.01:59:06.004 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.01:59:48.696 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24603 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.01:59:48.699 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.01:59:50.356 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.01:59:50.360 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.01:59:50.409 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
24-04-16.01:59:52.543 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.01:59:52.594 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.01:59:52.947 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.01:59:52.983 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.01:59:55.946 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.01:59:56.096 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 7.991 seconds (JVM running for 9.096)
24-04-16.01:59:57.110 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.01:59:57.523 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.01:59:57.754 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.01:59:57.797 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:57.843 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:57.843 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.01:59:57.861 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 105
24-04-16.01:59:57.862 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 105 rule_weight
24-04-16.01:59:58.033 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.01:59:58.057 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":105}
24-04-16.01:59:58.065 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:58.073 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:58.073 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.01:59:58.094 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 103
24-04-16.01:59:58.095 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 103 rule_weight
24-04-16.01:59:58.096 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.01:59:58.096 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":103}
24-04-16.01:59:58.100 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:58.107 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.01:59:58.107 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.01:59:58.119 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 104
24-04-16.01:59:58.120 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 104 rule_weight
24-04-16.01:59:58.120 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.01:59:58.120 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":104}
24-04-16.02:00:00.020 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:05.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:10.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:15.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:20.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:25.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:30.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:40.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:45.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:00:55.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:01:00.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:01:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:01:10.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:01:12.725 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:01:12.759 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:03:11.331 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24665 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:03:11.334 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:03:13.012 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:03:13.019 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:03:13.073 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
24-04-16.02:03:15.282 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:03:15.332 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:03:15.679 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:03:15.715 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:03:18.943 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:03:19.074 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.37 seconds (JVM running for 9.581)
24-04-16.02:03:20.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:20.248 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:03:20.737 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:03:20.991 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:03:21.036 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.082 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.083 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:03:21.107 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 102
24-04-16.02:03:21.111 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 102 rule_weight
24-04-16.02:03:21.269 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:03:21.292 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102}
24-04-16.02:03:21.299 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.304 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.304 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:03:21.313 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 103
24-04-16.02:03:21.313 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 103 rule_weight
24-04-16.02:03:21.315 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:03:21.315 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":103}
24-04-16.02:03:21.318 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.322 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:03:21.322 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:03:21.336 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 104
24-04-16.02:03:21.336 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 104 rule_weight
24-04-16.02:03:21.336 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:03:21.337 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":104}
24-04-16.02:03:25.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:30.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:40.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:45.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:50.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:03:55.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:00.026 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:10.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:15.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:20.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:25.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:30.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:40.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:45.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:50.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:04:55.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:00.021 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:05.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:10.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:15.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:20.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:25.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:30.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:35.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:05:35.152 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:05:35.184 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:07:36.237 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24763 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:07:36.239 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:07:37.908 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:07:37.913 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:07:37.966 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-04-16.02:07:40.334 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:07:40.397 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:07:40.796 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:07:40.835 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:07:44.110 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:07:44.251 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.705 seconds (JVM running for 10.364)
24-04-16.02:07:44.957 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x5eeefc45, L:/127.0.0.1:57158 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=11, widx=11), command: (GET), promise: java.util.concurrent.CompletableFuture@2f00d6b7[Not completed, 1 dependents], params: [strategy_award_count_key_100001_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:07:44.971 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x5eeefc45, L:/127.0.0.1:57158 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:07:45.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:08:03.435 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24778 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:08:03.439 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:08:05.050 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:08:05.054 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:08:05.099 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.02:08:07.194 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:08:07.244 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:08:07.593 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:08:07.630 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:08:10.613 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:08:10.729 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 7.864 seconds (JVM running for 8.97)
24-04-16.02:08:11.381 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x55df6c73, L:/127.0.0.1:57237 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=11, widx=11), command: (GET), promise: java.util.concurrent.CompletableFuture@624a2ac7[Not completed, 1 dependents], params: [strategy_award_count_key_100001_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:08:11.393 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x55df6c73, L:/127.0.0.1:57237 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:08:34.404 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24791 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:08:34.407 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:08:36.156 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:08:36.160 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:08:36.224 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
24-04-16.02:08:38.327 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:08:38.391 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:08:38.799 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:08:38.830 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:08:41.755 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:08:41.873 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.056 seconds (JVM running for 9.178)
24-04-16.02:08:42.491 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:08:42.948 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:08:43.694 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:08:43.723 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:43.754 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:43.754 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:08:43.767 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 102
24-04-16.02:08:43.769 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 102 rule_weight
24-04-16.02:08:43.950 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:08:43.965 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102}
24-04-16.02:08:43.973 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:43.982 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:43.982 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:08:43.996 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 102
24-04-16.02:08:43.996 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 102 rule_weight
24-04-16.02:08:43.996 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:08:43.997 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102}
24-04-16.02:08:44.000 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:44.004 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:08:44.004 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:08:44.012 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 104
24-04-16.02:08:44.013 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 104 rule_weight
24-04-16.02:08:44.013 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:08:44.013 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":104}
24-04-16.02:08:45.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:08:50.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:08:55.016 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:00.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:05.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:10.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:15.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:20.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:25.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:30.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:35.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:40.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:45.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:50.000 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:09:55.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:00.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:10.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:15.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:20.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:25.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:30.001 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:35.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:40.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:45.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:50.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:10:55.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:00.009 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:05.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:06.067 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:11:06.101 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:11:26.098 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24849 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:11:26.101 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:11:27.763 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:11:27.767 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:11:27.816 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-04-16.02:11:30.049 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:11:30.104 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:11:30.466 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:11:30.502 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:11:33.572 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:11:33.690 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.173 seconds (JVM running for 9.299)
24-04-16.02:11:34.291 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:11:34.685 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:11:35.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:35.492 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:11:35.521 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.548 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.548 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:11:35.560 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 105
24-04-16.02:11:35.562 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 105 rule_weight
24-04-16.02:11:35.717 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:11:35.724 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":105}
24-04-16.02:11:35.730 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.736 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.737 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:11:35.748 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 102
24-04-16.02:11:35.748 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 102 rule_weight
24-04-16.02:11:35.749 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:11:35.749 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":102}
24-04-16.02:11:35.753 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.760 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:11:35.760 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:11:35.767 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重接管 userId: peregrine strategyId: 100001 ruleModel: rule_weight awardId: 103
24-04-16.02:11:35.768 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 103 rule_weight
24-04-16.02:11:35.768 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100001,"userId":"peregrine"}
24-04-16.02:11:35.768 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":103}
24-04-16.02:11:40.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:45.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:50.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:11:55.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:12:00.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:12:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:12:08.502 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:12:08.528 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:14:36.846 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24908 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:14:36.849 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:14:38.499 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:14:38.502 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:14:38.544 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.02:14:40.708 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:14:40.758 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:14:41.088 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:14:41.118 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:14:44.091 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:14:44.219 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 7.958 seconds (JVM running for 9.091)
24-04-16.02:14:44.823 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:14:45.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:14:45.253 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:14:45.969 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:14:46.017 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:14:46.065 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:14:46.066 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:14:46.079 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重放行 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:14:46.094 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100001 ruleModel: rule_default awardId: 103
24-04-16.02:14:46.097 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 103 rule_default
24-04-16.02:14:46.249 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:14:46.284 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:15:25.713 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24935 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:15:25.751 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:15:27.334 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:15:27.337 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:15:27.384 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.02:15:29.667 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:15:29.722 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:15:30.121 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:15:30.162 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:15:33.167 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:15:33.297 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.304 seconds (JVM running for 9.549)
24-04-16.02:15:34.030 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xd331047f, L:/127.0.0.1:58555 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=11, widx=11), command: (GET), promise: java.util.concurrent.CompletableFuture@1363ad37[Not completed, 1 dependents], params: [strategy_award_count_key_100001_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:15:34.039 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xd331047f, L:/127.0.0.1:58555 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:16:14.271 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24953 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:16:14.297 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:16:15.893 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:16:15.897 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:16:15.945 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
24-04-16.02:16:18.220 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:16:18.283 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:16:18.676 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:16:18.720 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:16:21.842 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:16:21.979 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.456 seconds (JVM running for 9.693)
24-04-16.02:16:22.657 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xaad0fb7e, L:/127.0.0.1:58710 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=11, widx=11), command: (GET), promise: java.util.concurrent.CompletableFuture@3a16b8f1[Not completed, 1 dependents], params: [strategy_award_count_key_100001_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:16:22.667 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xaad0fb7e, L:/127.0.0.1:58710 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 54
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:16:51.130 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 24971 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:16:51.179 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:16:52.796 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:16:52.800 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:16:52.848 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.02:16:55.134 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:16:55.188 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:16:55.577 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:16:55.614 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:16:58.731 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:16:58.878 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.471 seconds (JVM running for 9.703)
24-04-16.02:16:59.510 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:16:59.955 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:17:00.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:17:00.692 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:17:08.960 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:17:14.241 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:17:14.317 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:17:14.318 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:17:14.326 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重放行 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:17:14.333 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100001 ruleModel: rule_default awardId: 105
24-04-16.02:17:26.670 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 105 rule_default
24-04-16.02:17:54.498 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:17:58.950 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s437ms).
24-04-16.02:20:52.278 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:20:52.273 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m57s772ms).
24-04-16.02:20:52.460 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:20:52.495 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:21:23.261 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25064 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:21:23.281 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:21:24.857 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:21:24.861 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:21:24.911 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-04-16.02:21:27.335 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:21:27.392 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:21:27.775 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:21:27.813 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:21:30.873 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:21:30.998 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.472 seconds (JVM running for 9.694)
24-04-16.02:21:31.639 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:21:32.081 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:21:32.820 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:21:37.282 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:21:49.433 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:21:49.511 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:21:49.512 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:21:49.518 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重放行 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:21:49.524 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100001 ruleModel: rule_default awardId: 102
24-04-16.02:21:50.450 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:21:50.450 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 102 rule_default
24-04-16.02:53:44.792 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:53:44.792 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m52s420ms).
24-04-16.02:53:45.042 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:53:45.053 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:53:57.048 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25639 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:53:57.051 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:53:58.770 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:53:58.773 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:53:58.824 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-04-16.02:54:00.955 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:54:01.005 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:54:01.364 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:54:01.398 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:54:04.392 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:54:04.520 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.113 seconds (JVM running for 9.26)
24-04-16.02:54:05.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:54:05.129 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:54:05.524 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:54:05.727 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:54:05.756 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:54:05.796 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:54:05.796 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:54:05.802 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重放行 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:54:05.811 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100001 ruleModel: rule_default awardId: 104
24-04-16.02:54:05.814 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100001 104 rule_default
24-04-16.02:54:05.994 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:54:06.040 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:55:41.226 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25671 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:55:41.228 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:55:42.854 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:55:42.858 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:55:42.906 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.02:55:45.235 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:55:45.295 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:55:45.670 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:55:45.710 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:55:48.887 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:55:49.056 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.584 seconds (JVM running for 9.814)
24-04-16.02:55:49.771 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x219df27a, L:/127.0.0.1:65036 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@1c198ccd[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:55:49.784 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x219df27a, L:/127.0.0.1:65036 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:56:11.334 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25686 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:56:11.352 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:56:12.951 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:56:12.954 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:56:13.003 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.02:56:15.277 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:56:15.336 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:56:15.714 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:56:15.750 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:56:18.816 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:56:18.970 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.366 seconds (JVM running for 9.652)
24-04-16.02:56:19.613 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:56:20.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:56:20.057 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:56:20.272 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:56:26.736 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:56:46.815 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:56:46.888 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.02:56:46.902 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.02:56:46.921 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:56:46.954 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:57:11.729 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25711 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:57:11.786 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:57:13.357 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:57:13.361 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:57:13.411 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
24-04-16.02:57:15.663 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:57:15.724 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:57:16.124 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:57:16.163 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:57:19.233 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:57:19.353 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.324 seconds (JVM running for 9.546)
24-04-16.02:57:20.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:57:20.114 [redisson-netty-2-8] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xf04e705f, L:/127.0.0.1:65306 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@49fb4974[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:57:20.126 [redisson-netty-2-8] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xf04e705f, L:/127.0.0.1:65306 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:57:35.361 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25722 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:57:35.364 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:57:36.966 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:57:36.970 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:57:37.017 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-04-16.02:57:39.098 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:57:39.147 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:57:39.474 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:57:39.506 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:57:42.438 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:57:42.565 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 7.792 seconds (JVM running for 8.918)
24-04-16.02:57:43.168 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:57:43.569 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:57:43.728 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:57:43.903 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.02:57:43.937 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.02:57:57.891 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25730 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:57:57.899 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:57:59.501 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:57:59.504 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:57:59.553 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.02:58:01.836 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:58:01.890 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:58:02.292 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:58:02.335 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:58:05.339 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:58:05.492 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.343 seconds (JVM running for 9.554)
24-04-16.02:58:06.184 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xd6414d15, L:/127.0.0.1:65450 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@54a4d0de[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.02:58:06.202 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xd6414d15, L:/127.0.0.1:65450 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.02:58:21.690 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 25743 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.02:58:21.695 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.02:58:23.322 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.02:58:23.326 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.02:58:23.374 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.02:58:25.656 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.02:58:25.717 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.02:58:26.154 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:58:26.199 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.02:58:29.293 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.02:58:29.458 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.454 seconds (JVM running for 9.701)
24-04-16.02:58:30.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.02:58:30.131 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.02:58:30.611 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.02:58:30.801 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.02:58:41.999 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:12:18.491 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:12:18.490 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11h13m47s766ms).
24-04-16.14:12:18.732 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:12:18.749 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:12:22.148 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38569 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:12:22.210 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:12:23.812 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:12:23.816 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:12:23.870 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.14:12:26.229 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:12:26.291 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:12:26.717 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:12:26.759 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:12:29.822 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:12:29.944 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.538 seconds (JVM running for 9.868)
24-04-16.14:12:30.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:12:30.669 [redisson-netty-2-8] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xe30fe21d, L:/127.0.0.1:64329 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@ef20c32[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.14:12:30.684 [redisson-netty-2-8] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xe30fe21d, L:/127.0.0.1:64329 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.14:12:52.825 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38593 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:12:52.844 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:12:54.426 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:12:54.430 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:12:54.478 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
24-04-16.14:12:56.766 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:12:56.822 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:12:57.208 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:12:57.251 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:13:00.286 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:13:00.416 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.316 seconds (JVM running for 9.541)
24-04-16.14:13:01.033 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:13:01.493 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:13:01.698 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:13:58.469 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:13:58.472 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=56s871ms).
24-04-16.14:15:36.799 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m38s324ms).
24-04-16.14:15:36.799 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:15:36.982 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:15:37.029 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:15:52.538 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38649 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:15:52.540 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:15:54.167 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:15:54.171 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:15:54.220 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:15:56.488 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:15:56.550 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:15:56.920 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:15:56.950 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:16:00.075 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:16:00.239 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.376 seconds (JVM running for 9.613)
24-04-16.14:16:00.911 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:16:01.339 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:16:01.696 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:16:01.749 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:16:10.065 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38656 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:16:10.088 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:16:11.667 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:16:11.671 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:16:11.716 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.14:16:13.973 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:16:14.039 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:16:14.521 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:16:14.560 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:16:17.639 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:16:17.808 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.461 seconds (JVM running for 9.706)
24-04-16.14:16:18.509 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x736fdf6a, L:/127.0.0.1:64958 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@142eaccb[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.14:16:18.526 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x736fdf6a, L:/127.0.0.1:64958 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.14:16:31.696 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38666 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:16:31.756 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:16:33.318 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:16:33.322 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:16:33.369 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:16:35.665 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:16:35.728 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:16:36.074 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:16:36.117 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:16:39.200 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:16:39.324 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.334 seconds (JVM running for 9.566)
24-04-16.14:16:40.003 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:16:40.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:16:40.462 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:16:40.805 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:16:40.845 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:17:01.904 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38676 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:17:01.924 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:17:03.581 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:17:03.584 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:17:03.634 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
24-04-16.14:17:06.043 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:17:06.098 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:17:06.469 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:17:06.507 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:17:09.550 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:17:09.691 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.552 seconds (JVM running for 9.782)
24-04-16.14:17:10.018 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:17:10.373 [redisson-netty-2-8] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0xf03c248a, L:/127.0.0.1:65128 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@1c198ccd[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.14:17:10.387 [redisson-netty-2-8] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0xf03c248a, L:/127.0.0.1:65128 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.14:17:25.728 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38689 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:17:25.750 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:17:27.315 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:17:27.319 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:17:27.365 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:17:29.628 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:17:29.685 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:17:30.127 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:17:30.173 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:17:33.374 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:17:33.514 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.525 seconds (JVM running for 9.755)
24-04-16.14:17:34.147 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:17:34.576 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:17:34.900 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:17:34.929 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:17:53.927 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38705 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:17:53.947 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:17:55.513 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:17:55.517 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:17:55.575 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
24-04-16.14:17:57.937 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:17:57.991 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:17:58.401 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:17:58.440 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:18:01.520 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:18:01.654 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.451 seconds (JVM running for 9.689)
24-04-16.14:18:02.290 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:18:02.717 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:18:03.029 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:18:03.081 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:19:00.317 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38726 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:19:00.329 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:19:01.898 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:19:01.902 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:19:01.948 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:19:04.311 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:19:04.369 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:19:04.753 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:19:04.789 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:19:07.835 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:19:07.976 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.41 seconds (JVM running for 9.639)
24-04-16.14:19:08.612 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:19:09.037 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:19:09.251 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:19:45.572 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:20:53.547 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s974ms).
24-04-16.14:22:36.779 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:22:45.125 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m51s578ms).
24-04-16.14:22:45.267 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:25:07.073 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 38847 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:25:07.077 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:25:08.676 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:25:08.680 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:25:08.732 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
24-04-16.14:25:11.064 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:25:11.126 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:25:11.512 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:25:11.556 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:25:14.761 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:25:14.903 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.592 seconds (JVM running for 9.909)
24-04-16.14:25:15.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:25:41.280 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:25:41.388 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:25:42.768 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:25:47.615 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:43:25.359 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:43:25.359 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m42s483ms).
24-04-16.14:43:26.587 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:43:26.657 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:43:33.130 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39181 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:43:33.137 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:43:34.740 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:43:34.744 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:43:34.799 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-04-16.14:43:37.080 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:43:37.136 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:43:37.491 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:43:37.525 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:43:40.628 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:43:40.812 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.478 seconds (JVM running for 9.714)
24-04-16.14:43:49.264 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:43:49.488 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:43:50.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:43:50.852 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:44:17.156 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:44:23.950 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:44:39.733 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:44:46.904 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:45:27.044 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m3s88ms).
24-04-16.14:45:27.048 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:45:27.188 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:45:27.216 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:45:44.045 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39233 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:45:44.085 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:45:45.742 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:45:45.746 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:45:45.800 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.14:45:48.175 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:45:48.231 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:45:48.600 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:45:48.644 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:45:51.847 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:45:51.979 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.623 seconds (JVM running for 9.868)
24-04-16.14:45:55.297 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:45:56.430 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:45:57.780 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:46:00.810 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:46:11.255 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:46:38.702 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:47:00.997 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s329ms).
24-04-16.14:47:44.548 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:47:44.583 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:48:00.783 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39287 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:48:00.849 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:48:02.547 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:48:02.551 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:48:02.602 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.14:48:04.827 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:48:04.887 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:48:05.254 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:48:05.294 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:48:08.326 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:48:08.452 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.391 seconds (JVM running for 9.639)
24-04-16.14:48:13.578 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:13.809 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:48:15.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:15.152 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:48:22.641 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:35.327 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:36.580 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100006 ruleModel: rule_default awardId: 102
24-04-16.14:48:36.584 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100006 102 rule_default
24-04-16.14:48:36.658 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:48:36.662 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-04-16.14:48:36.665 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:48:36.670 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:48:36.761 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-04-16.14:48:36.761 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:102 ruleValue:101:1,100
24-04-16.14:48:36.762 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:101 awardRuleValue:1,100
24-04-16.14:48:36.762 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-04-16.14:48:36.762 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 peregrine 100006 101 1,100
24-04-16.14:48:37.358 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"peregrine"}
24-04-16.14:48:37.367 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101}
24-04-16.14:48:43.367 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:47.526 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:48:53.033 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-04-16.14:48:53.133 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:48:53.163 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:49:23.426 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39319 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:49:23.450 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:49:25.181 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:49:25.185 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:49:25.233 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:49:27.444 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:49:27.506 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:49:27.863 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:49:27.905 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:49:30.969 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:49:31.113 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.51 seconds (JVM running for 9.733)
24-04-16.14:49:31.810 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x06cab5c8, L:/127.0.0.1:54178 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@1e9633bb[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.14:49:31.826 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x06cab5c8, L:/127.0.0.1:54178 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.14:49:47.809 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39331 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:49:47.830 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:49:49.463 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:49:49.467 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:49:49.516 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.14:49:51.816 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:49:51.873 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:49:52.270 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:49:52.314 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:49:55.342 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:49:55.466 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.447 seconds (JVM running for 9.68)
24-04-16.14:49:56.101 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:49:56.536 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:49:56.705 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:49:56.750 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100006 ruleModel: rule_default awardId: 102
24-04-16.14:49:56.752 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100006 102 rule_default
24-04-16.14:49:56.806 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:49:56.808 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-04-16.14:49:56.808 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:49:56.815 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:49:56.869 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-04-16.14:49:56.870 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:102 ruleValue:101:1,100
24-04-16.14:49:56.870 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:101 awardRuleValue:1,100
24-04-16.14:49:56.870 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-04-16.14:49:56.870 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 peregrine 100006 101 1,100
24-04-16.14:49:57.047 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"peregrine"}
24-04-16.14:49:57.070 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101}
24-04-16.14:49:57.202 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:49:57.223 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:54:42.779 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39427 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:54:42.840 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:54:44.427 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:54:44.431 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:54:44.483 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-04-16.14:54:46.786 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:54:46.846 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:54:47.215 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:54:47.255 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:54:50.118 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:54:50.299 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.199 seconds (JVM running for 9.424)
24-04-16.14:54:50.972 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:54:51.399 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:54:51.611 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:54:51.640 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.14:54:51.684 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.14:54:51.684 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.14:54:51.825 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:54:51.865 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:55:09.879 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39446 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:55:09.938 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:55:11.524 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:55:11.528 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:55:11.577 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-04-16.14:55:13.852 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:55:13.912 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:55:14.302 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:55:14.339 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:55:17.446 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:55:17.595 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.4 seconds (JVM running for 9.641)
24-04-16.14:55:18.256 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:55:18.670 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:55:18.895 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:55:18.922 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单开始 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.14:55:18.962 [main            ] INFO  BlackListLogicChain    - 抽奖责任链-黑名单放行 userId: peregrine strategyId: 100001 ruleModel: rule_blacklist
24-04-16.14:55:18.963 [main            ] INFO  RuleWeightLogicChain   - 抽奖责任链-权重开始 userId: peregrine strategyId: 100001 ruleModel: rule_weight
24-04-16.14:55:19.108 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:55:19.164 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-04-16.14:55:42.999 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39462 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:55:43.002 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:55:44.609 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:55:44.612 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:55:44.665 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
24-04-16.14:55:46.867 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:55:46.929 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:55:47.353 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:55:47.395 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:55:50.570 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:55:50.686 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.373 seconds (JVM running for 9.607)
24-04-16.14:55:51.421 [redisson-netty-2-6] ERROR CommandDecoder         - Unable to decode data. channel: [id: 0x8f8b2f7f, L:/127.0.0.1:55283 - R:127.0.0.1/127.0.0.1:16379], reply: ReplayingDecoderByteBuf(ridx=7, widx=7), command: (GET), promise: java.util.concurrent.CompletableFuture@38d285ca[Not completed, 1 dependents], params: [strategy_award_count_key_100006_101]
com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
24-04-16.14:55:51.432 [redisson-netty-2-6] ERROR ErrorsLoggingHandler   - Exception occured. Channel: [id: 0x8f8b2f7f, L:/127.0.0.1:55283 - R:127.0.0.1/127.0.0.1:16379]
io.netty.handler.codec.DecoderException: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:421)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.esotericsoftware.kryo.KryoException: Encountered unregistered class ID: 49
	at com.esotericsoftware.kryo.util.DefaultClassResolver.readClass(DefaultClassResolver.java:159)
	at com.esotericsoftware.kryo.Kryo.readClass(Kryo.java:758)
	at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:869)
	at org.redisson.codec.Kryo5Codec$4.decode(Kryo5Codec.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:394)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:205)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	... 17 common frames omitted
24-04-16.14:56:08.718 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on bogon with PID 39475 (started by zhanghaipeng in /Users/zhanghaipeng/big-market/big-market-app)
24-04-16.14:56:08.736 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-04-16.14:56:10.337 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-04-16.14:56:10.341 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-04-16.14:56:10.387 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-04-16.14:56:12.690 [main            ] INFO  Version                - Redisson 3.23.4
24-04-16.14:56:12.747 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-04-16.14:56:13.164 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:56:13.210 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-04-16.14:56:16.252 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-04-16.14:56:16.385 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 8.424 seconds (JVM running for 9.685)
24-04-16.14:56:17.030 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-04-16.14:56:17.471 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-04-16.14:56:17.637 [main            ] INFO  RaffleStrategyTest     - 测试结果：true
24-04-16.14:56:17.692 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100006 ruleModel: rule_default awardId: 102
24-04-16.14:56:17.694 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100006 102 rule_default
24-04-16.14:56:17.751 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:17.752 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-04-16.14:56:17.753 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:17.766 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:17.832 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-04-16.14:56:17.833 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:102 ruleValue:101:1,100
24-04-16.14:56:17.833 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:101 awardRuleValue:1,100
24-04-16.14:56:17.833 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-04-16.14:56:17.833 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 peregrine 100006 101 1,100
24-04-16.14:56:18.019 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"peregrine"}
24-04-16.14:56:18.045 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101}
24-04-16.14:56:18.057 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100006 ruleModel: rule_default awardId: 102
24-04-16.14:56:18.057 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100006 102 rule_default
24-04-16.14:56:18.066 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.066 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-04-16.14:56:18.066 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.070 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.075 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-04-16.14:56:18.075 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:102 ruleValue:101:1,100
24-04-16.14:56:18.076 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:101 awardRuleValue:1,100
24-04-16.14:56:18.076 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-04-16.14:56:18.076 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 peregrine 100006 101 1,100
24-04-16.14:56:18.076 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"peregrine"}
24-04-16.14:56:18.076 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101}
24-04-16.14:56:18.083 [main            ] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: peregrine strategyId: 100006 ruleModel: rule_default awardId: 102
24-04-16.14:56:18.084 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 peregrine 100006 102 rule_default
24-04-16.14:56:18.089 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.091 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_lock code:0000
24-04-16.14:56:18.091 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.094 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:peregrine strategyId:100006 awardId:102
24-04-16.14:56:18.098 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_stock code:0001
24-04-16.14:56:18.098 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:102 ruleValue:101:1,100
24-04-16.14:56:18.098 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:peregrine strategyId:100006 awardId:101 awardRuleValue:1,100
24-04-16.14:56:18.098 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock node:rule_luck_award code:0001
24-04-16.14:56:18.098 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 peregrine 100006 101 1,100
24-04-16.14:56:18.098 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"peregrine"}
24-04-16.14:56:18.098 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardId":101}
24-04-16.14:56:20.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:25.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:25.026 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-04-16.14:56:30.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:30.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-04-16.14:56:35.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:35.011 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-04-16.14:56:40.006 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:45.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:55.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 [延迟队列获取，降低对数据库的更新频次，不要产生竞争]
24-04-16.14:56:55.896 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-04-16.14:56:55.933 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
